<!DOCTYPE html>
<html>
  <head>
    <title>ChatGPT Example</title>
  </head>
  <body>
    <form onsubmit="return sendChat(event)">
      <input type="text" id="message" placeholder="Type your message here">
      <button type="submit">Send</button>
    </form>
    <div id="chat-log"></div>
    <script src="https://cdn.jsdelivr.net/npm/@openai/api@0.6.1/dist/openai-api.min.js"></script>
    <script>
      const OPENAI_API_KEY = const apiKey = process.env.OPEN_AI_KEY;
      const openai = new OpenAI(OPENAI_API_KEY);
      const chatLog = document.getElementById("chat-log");

      async function sendChat(event) {
        event.preventDefault();
        const messageInput = document.getElementById("message");
        const message = messageInput.value;
        messageInput.value = "";
        const response = await openai.complete({
          engine: "davinci",
          prompt: `Conversation with ChatGPT:\n\nUser: ${message}\nChatGPT:`,
          maxTokens: 100,
          temperature: 0.5,
          n: 1,
          stop: "\n"
        });
        const chatGPTResponse = response.choices[0].text.trim();
        chatLog.innerHTML += `<p><strong>You:</strong> ${message}</p><p><strong>ChatGPT:</strong> ${chatGPTResponse}</p>`;
        chatLog.scrollTop = chatLog.scrollHeight;
      }
    </script>
  </body>
</html>
